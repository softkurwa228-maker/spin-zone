<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>SPIN ZONE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{
    margin:0;
    font-family:Arial;
    background:radial-gradient(circle at top,#1a0033,#000);
    color:white;
    text-align:center;
}

h1{
    margin-top:20px;
    font-size:34px;
    background:linear-gradient(90deg,gold,orange);
    -webkit-background-clip:text;
    color:transparent;
}

.card{
    margin:15px auto;
    padding:15px;
    width:90%;
    border-radius:20px;
    background:rgba(255,255,255,0.08);
    backdrop-filter:blur(12px);
}

#slot{
    font-size:70px;
    margin:30px;
}

button{
    padding:12px 25px;
    margin:5px;
    font-size:16px;
    border:none;
    border-radius:25px;
    background:linear-gradient(45deg,gold,orange);
    font-weight:bold;
    cursor:pointer;
}

.progress-bar{
    width:100%;
    height:10px;
    background:#333;
    border-radius:10px;
    margin-top:10px;
}

.progress{
    height:100%;
    width:0%;
    background:gold;
    border-radius:10px;
}

canvas{
    position:fixed;
    top:0;
    left:0;
    pointer-events:none;
}
</style>
</head>

<body>

<h1>ğŸ° SPIN ZONE</h1>

<div class="card">
ğŸ’° Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: <span id="coins">1000</span><br>
ğŸ† Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ: <span id="level">Bronze</span>
<div class="progress-bar">
<div class="progress" id="progress"></div>
</div>
</div>

<div id="slot">ğŸ²</div>

<button onclick="spin()">SPIN</button>
<button onclick="openCase()">ğŸ’¼ CASE</button>
<button onclick="wheel()">ğŸ¡ WHEEL</button>
<button onclick="dailyBonus()">ğŸ BONUS</button>

<canvas id="confetti"></canvas>

<script>
let coins = localStorage.getItem("coins") ? parseInt(localStorage.getItem("coins")) : 1000;
let xp = localStorage.getItem("xp") ? parseInt(localStorage.getItem("xp")) : 0;

const emojis = ["ğŸ’","ğŸ‹","ğŸ’","ğŸ”¥","ğŸ‘‘","ğŸ°"];
updateUI();

function spin(){
    if(coins < 50){ alert("ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ¼Ğ¾Ğ½ĞµÑ‚"); return; }
    coins -= 50;
    animateSlot();
    setTimeout(()=>{
        let chance = Math.random();
        if(chance > 0.9){
            jackpot();
        } else if(chance > 0.6){
            win(200);
        }
        save();
        updateUI();
    },2000);
}

function animateSlot(){
    let i=0;
    let interval=setInterval(()=>{
        document.getElementById("slot").innerText =
        emojis[Math.floor(Math.random()*emojis.length)];
        i++;
        if(i>15) clearInterval(interval);
    },100);
}

function win(amount){
    coins+=amount;
    xp+=10;
    alert("ğŸ”¥ WIN +"+amount);
}

function jackpot(){
    coins+=1000;
    xp+=50;
    launchConfetti();
    alert("ğŸ’ JACKPOT +1000!");
}

function openCase(){
    if(coins < 100){ alert("ĞÑƒĞ¶Ğ½Ğ¾ 100 Ğ¼Ğ¾Ğ½ĞµÑ‚"); return; }
    coins-=100;
    let reward=Math.floor(Math.random()*500)+50;
    coins+=reward;
    alert("ğŸ’¼ CASE: +"+reward);
    save();
    updateUI();
}

function wheel(){
    let reward=Math.floor(Math.random()*300)+50;
    coins+=reward;
    alert("ğŸ¡ WHEEL: +"+reward);
    save();
    updateUI();
}

function dailyBonus(){
    coins+=500;
    alert("ğŸ +500");
    save();
    updateUI();
}

function updateUI(){
    document.getElementById("coins").innerText=coins;
    let level="Bronze";
    if(xp>=50) level="Silver";
    if(xp>=150) level="Gold";
    if(xp>=300) level="Diamond";
    document.getElementById("level").innerText=level;
    document.getElementById("progress").style.width=(xp%100)+"%";
}

function save(){
    localStorage.setItem("coins",coins);
    localStorage.setItem("xp",xp);
}

/* Confetti */
function launchConfetti(){
    const canvas=document.getElementById("confetti");
    const ctx=canvas.getContext("2d");
    canvas.width=window.innerWidth;
    canvas.height=window.innerHeight;
    for(let i=0;i<100;i++){
        ctx.fillStyle="hsl("+Math.random()*360+",100%,50%)";
        ctx.fillRect(Math.random()*canvas.width,
                     Math.random()*canvas.height,5,5);
    }
    setTimeout(()=>ctx.clearRect(0,0,canvas.width,canvas.height),1000);
}
</script>

</body>
</html>
